(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-game-luck_wheel"],{"12f2":function(t,i,a){i=t.exports=a("2350")(!1),i.push([t.i,"uni-image[data-v-26f6c16c]{width:100%;height:100%}.Bg[data-v-26f6c16c]{position:fixed;left:0;top:0;z-index:99;width:100%;height:100%;background:rgba(0,0,0,.4)}.Guidance[data-v-26f6c16c]{position:relative;z-index:100;width:%?690?%;height:%?500?%;top:%?-120?%;text-align:center;margin:0 auto}",""])},"17ac":function(t,i,a){var e=a("6e96");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("4320cd52",e,!0,{sourceMap:!1,shadowMode:!1})},"1c86":function(t,i,a){var e=a("12f2");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("8bfae0e8",e,!0,{sourceMap:!1,shadowMode:!1})},"216c":function(t,i,a){"use strict";a.r(i);var e=a("9d12"),n=a.n(e);for(var o in e)"default"!==o&&function(t){a.d(i,t,function(){return e[t]})}(o);i["default"]=n.a},"2b7d":function(t,i,a){"use strict";a.r(i);var e=a("c749"),n=a("fc8d");for(var o in n)"default"!==o&&function(t){a.d(i,t,function(){return n[t]})}(o);a("35ff");var s,c=a("f0c5"),r=Object(c["a"])(n["default"],e["b"],e["c"],!1,null,"26f6c16c",null,!1,e["a"],s);i["default"]=r.exports},"35ff":function(t,i,a){"use strict";var e=a("1c86"),n=a.n(e);n.a},"60c3":function(t,i,a){"use strict";var e,n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"tui-header-box",staticStyle:{color:"#fff"},style:{height:t.height+"px;"}},[a("v-uni-view",{staticClass:"tui-header",style:{paddingTop:t.top+"px"}},[t._v("大转盘")]),a("v-uni-view",{staticClass:"tui-header-icon",style:{marginTop:t.top+"px"}},[a("v-uni-view",{staticClass:"tui-icon tui-icon-arrowleft tui-icon-back",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.back.apply(void 0,arguments)}}},[a("tui-icon",{staticStyle:{"line-height":"44px"},attrs:{name:"arrowleft",color:"#fff"}})],1)],1)],1),a("v-uni-view",{staticClass:"stage",staticStyle:{"margin-top":"-6px"}},[a("v-uni-image",{staticClass:"Imgs",attrs:{src:t.game.image.image_path,mode:"widthFix"}}),t.showShare?a("v-uni-view",{staticStyle:{width:"180rpx",background:"#b3241b",padding:"10rpx 30rpx","border-radius":"10rpx",position:"absolute",right:"0",display:"flex","align-items":"center",top:"45rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.shows.apply(void 0,arguments)}}},[a("tui-icon",{attrs:{name:"partake",size:15,color:"#fff"}}),a("v-uni-text",{staticStyle:{color:"#fff","font-size":"28rpx","margin-left":"10rpx"}},[t._v("分享得金币")])],1):t._e(),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.ShowGuidance,expression:"ShowGuidance"}]},[a("v-uni-view",{staticClass:"Bg",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.colse.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"Guidance",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.colse.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:"/static/images/index/zhidaole.png",mode:"widthFix"}})],1)],1),a("v-uni-view",{staticClass:"container"},[t._l(t.circleList,function(t,i){return a("v-uni-view",{key:i,staticClass:"tui-dot",class:["tui-dot-"+(i+1)]})}),a("v-uni-view",{staticClass:"tui-container-in"},[t._l(t.awardList,function(i,e){return a("v-uni-view",{key:e,staticClass:"tui-content-out",class:["tui-award-"+(e+1),e==t.indexSelect?"tui-awardSelect":""]},["Prize::ProductPrize"==i.type?a("v-uni-view",[t._v(t._s(i.product.name))]):t._e(),"Prize::CoinPrize"==i.type?a("v-uni-view",[t._v(t._s(i.coin)+"金币")]):t._e(),"thanks"==i.type?a("v-uni-view",[t._v("谢谢参与")]):t._e()],1)}),a("v-uni-view",{staticClass:"tui-btn-start",class:[t.isRunning?"tui-ative":""],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.startDrawing.apply(void 0,arguments)}}},[t._v("立即抽奖")])],2)],2),a("v-uni-view",{staticStyle:{position:"relative",top:"340rpx"}},[a("v-uni-view",{staticClass:"explain"},[a("v-uni-view",{staticClass:"ExplainTitle"},[t._v("游戏说明")]),a("v-uni-view",{staticClass:"ExplainTxt",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.thisShow.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"TxtTitle"},[t._v("我的金币："+t._s(t.userIntegral))])],1),a("v-uni-view",{staticClass:"ExplainTxt"},[a("v-uni-view",{staticClass:"TxtTitle"},[t._v("玩法说明")]),t.game.task_game_task?a("v-uni-view",{staticClass:"TxtCon"},[t._v("任务状态用户可以免费抽奖一次")]):a("v-uni-view",{staticClass:"TxtCon"},[t._v("每抽奖一次平台扣去"+t._s(t.game.cost)+"金币")]),a("v-uni-view",{staticClass:"TxtTitle"},[t._v("活动奖品")]),t._l(t.game.sort_prizes,function(i,e){return["Prize::CoinPrize"==i.type?a("v-uni-view",{staticClass:"TxtCon"},[t._v(t._s(e+1)+"等奖："+t._s(i.coin)+"金币")]):t._e(),"Prize::ProductPrize"==i.type?a("v-uni-view",{staticClass:"TxtCon"},[t._v(t._s(e+1)+"等奖："+t._s(i.product.name))]):t._e()]}),t.game.task_game_task?[a("v-uni-view",{staticClass:"TxtTitle"},[t._v("活动时间")]),a("v-uni-view",{staticClass:"TxtCon"},[t._v(t._s(t.game.task_game_task.valid_from)+" 至 "+t._s(t.game.task_game_task.valid_to))]),a("v-uni-view",{staticClass:"TxtZ"},[a("v-uni-text",{staticClass:"TZ"},[t._v("注：")]),t._v("本次活动奖品仅限在"+t._s(t.game.task_game_task.valid_to)+"日前有效，过期自动作废。")],1)]:t._e()],2)],1)],1)],1)],1)},o=[];a.d(i,"b",function(){return n}),a.d(i,"c",function(){return o}),a.d(i,"a",function(){return e})},"675d":function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{}},props:{ShowGuidance:!1},methods:{colse:function(){this.ShowGuidance=!1}}};i.default=e},"6e96":function(t,i,a){i=t.exports=a("2350")(!1),i.push([t.i,"uni-image[data-v-7f66b273]{width:100%;height:100%}.Bg[data-v-7f66b273]{position:fixed;left:0;top:0;z-index:99;overflow:hidden;width:100%;height:100%;background:rgba(0,0,0,.4)}.Guidance[data-v-7f66b273]{position:absolute;z-index:100;width:%?690?%;height:%?500?%;top:%?-45?%;left:%?30?%;text-align:center;margin:0 auto}.Imgs[data-v-7f66b273]{position:absolute;left:0;width:100%;height:100%}.explain[data-v-7f66b273]{width:%?690?%;margin:%?60?% auto %?100?%}.ExplainTitle[data-v-7f66b273]{text-align:center;font-size:%?36?%;font-weight:700;color:#8a0a0a}.ExplainTxt[data-v-7f66b273]{text-align:left;margin:%?20?% auto}.TxtTitle[data-v-7f66b273]{font-size:%?30?%;color:#545454;font-weight:700;margin-top:%?30?%;margin-bottom:%?10?%}.TxtCon[data-v-7f66b273]{font-size:%?26?%;color:#999}.TxtZ[data-v-7f66b273]{color:#d20b0b;font-size:%?24?%;margin-top:%?10?%;letter-spacing:.5px}.TZ[data-v-7f66b273]{font-weight:700;font-size:%?26?%;color:#d20b0b}.container[data-v-7f66b273]{height:%?600?%;width:%?650?%;background-color:#b3241b;margin:%?100?% auto;border-radius:%?40?%;box-shadow:0 %?10?% 0 #d80014;position:relative;top:%?130?%}.tui-container-in[data-v-7f66b273]{width:%?580?%;height:%?530?%;background-color:#de4339;border-radius:%?40?%;\r\n\t/* position: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\ttop: 0;\n\t\tbottom: 0; */margin:%?35?% auto}\r\n\r\n/**小圆点 start*/.tui-dot[data-v-7f66b273]{position:absolute;display:block;border-radius:50%;height:%?20?%;width:%?20?%}.tui-dot[data-v-7f66b273]:nth-child(odd){background:#fff;-webkit-animation:.5s odd-data-v-7f66b273 linear infinite;animation:.5s odd-data-v-7f66b273 linear infinite}.tui-dot[data-v-7f66b273]:nth-child(2n){background:#fcf400;-webkit-animation:.5s even-data-v-7f66b273 linear infinite;animation:.5s even-data-v-7f66b273 linear infinite}.tui-dot-1[data-v-7f66b273]{left:%?15?%;top:%?15?%}.tui-dot-2[data-v-7f66b273]{left:%?117.5?%;top:%?7.5?%}.tui-dot-3[data-v-7f66b273]{left:%?220?%;top:%?7.5?%}.tui-dot-4[data-v-7f66b273]{left:%?322.5?%;top:%?7.5?%}.tui-dot-5[data-v-7f66b273]{left:%?425?%;top:%?7.5?%}.tui-dot-6[data-v-7f66b273]{left:%?527.5?%;top:%?7.5?%}.tui-dot-7[data-v-7f66b273]{left:%?620?%;top:%?15?%}.tui-dot-8[data-v-7f66b273]{left:%?622?%;top:%?109?%}.tui-dot-9[data-v-7f66b273]{left:%?622?%;top:%?203?%}.tui-dot-10[data-v-7f66b273]{left:%?622?%;top:%?297?%}.tui-dot-11[data-v-7f66b273]{left:%?622?%;top:%?391?%}.tui-dot-12[data-v-7f66b273]{left:%?622?%;top:%?485?%}.tui-dot-13[data-v-7f66b273]{left:%?620?%;top:%?565?%}.tui-dot-14[data-v-7f66b273]{left:%?517.5?%;top:%?572?%}.tui-dot-15[data-v-7f66b273]{left:%?415?%;top:%?572?%}.tui-dot-16[data-v-7f66b273]{left:%?312.5?%;top:%?572?%}.tui-dot-17[data-v-7f66b273]{left:%?210?%;top:%?572?%}.tui-dot-18[data-v-7f66b273]{left:%?107.5?%;top:%?572?%}.tui-dot-19[data-v-7f66b273]{left:%?15?%;top:%?565?%}.tui-dot-20[data-v-7f66b273]{left:%?7.5?%;top:%?471?%}.tui-dot-21[data-v-7f66b273]{left:%?7.5?%;top:%?377?%}.tui-dot-22[data-v-7f66b273]{left:%?7.5?%;top:%?283?%}.tui-dot-23[data-v-7f66b273]{left:%?7.5?%;top:%?189?%}.tui-dot-24[data-v-7f66b273]{left:%?7.5?%;top:%?95?%}@-webkit-keyframes odd-data-v-7f66b273{0%{background:#fff}to{background:#fcf400}}@keyframes odd-data-v-7f66b273{0%{background:#fff}to{background:#fcf400}}@-webkit-keyframes even-data-v-7f66b273{0%{background:#fcf400}to{background:#fff}}@keyframes even-data-v-7f66b273{0%{background:#fcf400}to{background:#fff}}\r\n\r\n/**小圆点 end*/.tui-content-out[data-v-7f66b273]{position:absolute;height:%?150?%;width:%?168?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#fcecec;color:#666;font-size:%?28?%;border-radius:%?15?%;box-shadow:0 4px 0 #fcc8d0}\r\n\r\n/* 580 530  */.tui-award-1[data-v-7f66b273]{left:%?65?%;top:%?55?%}.tui-award-2[data-v-7f66b273]{left:%?243?%;top:%?55?%}.tui-award-3[data-v-7f66b273]{left:%?423?%;top:%?55?%}.tui-award-4[data-v-7f66b273]{left:%?423?%;top:%?220?%}.tui-award-5[data-v-7f66b273]{left:%?423?%;top:%?386?%}.tui-award-6[data-v-7f66b273]{left:%?243?%;top:%?386?%}.tui-award-7[data-v-7f66b273]{left:%?65?%;top:%?386?%}.tui-award-8[data-v-7f66b273]{left:%?65?%;top:%?220?%}\r\n\r\n/**居中 加粗*/.tui-btn-start[data-v-7f66b273]{position:absolute;top:%?220?%;left:%?243?%;border-radius:%?15?%;height:%?150?%;width:%?168?%;background-color:#d80014;box-shadow:0 4px 0 #fcc8d0;color:#fcf400;text-align:center;font-size:%?32?%;font-weight:700;line-height:%?150?%}.tui-ative[data-v-7f66b273]{opacity:.6!important}.tui-award-image[data-v-7f66b273]{position:absolute;margin:auto;top:0;left:0;bottom:0;right:0;height:%?134?%;width:%?134?%}.tui-awardSelect[data-v-7f66b273]{font-weight:700;color:red!important;background-color:#fcf400!important;box-shadow:0 4px 0 #f0d00c!important}\r\n\r\n/* header*/.tui-header-box[data-v-7f66b273]{width:100%;position:fixed;left:0;top:0;z-index:9998;background-color:#fc4034}.tui-header[data-v-7f66b273]{width:100%;font-size:18px;line-height:18px;font-weight:500;height:44px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.tui-header-icon[data-v-7f66b273]{position:fixed;top:0;left:10px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:44px;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99999}.tui-header-icon .tui-badge[data-v-7f66b273]{background:#e41f19!important;position:absolute;right:-4px}.tui-icon-ml[data-v-7f66b273]{margin-left:%?20?%}.tui-icon[data-v-7f66b273]{border-radius:16px}.tui-icon-back[data-v-7f66b273]{height:44px!important;width:44px!important;display:block!important}.tui-header-icon .tui-icon-more-fill[data-v-7f66b273]{height:20px!important;width:20px!important;padding:6px!important;display:block!important}\r\n\r\n/* header*/",""])},"70c6":function(t,i,a){"use strict";a.r(i);var e=a("60c3"),n=a("216c");for(var o in n)"default"!==o&&function(t){a.d(i,t,function(){return n[t]})}(o);a("ef14");var s,c=a("f0c5"),r=Object(c["a"])(n["default"],e["b"],e["c"],!1,null,"7f66b273",null,!1,e["a"],s);i["default"]=r.exports},"9d12":function(t,i,a){"use strict";var e=a("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,a("20d6"),a("c5f6");var n=e(a("2047")),o=e(a("38b7")),s=e(a("2b7d")),c={components:{GuidancePopup:s.default,tuiIcon:o.default},data:function(){return{game:{task_game_task:{valid_from:"",valid_to:""},image:{}},userIntegral:0,ShowGuidance:!1,circleList:24,from:"h5",height:0,top:0,scrollH:0,opcity:1,iconOpcity:.5,awardList:{},indexSelect:0,isRunning:!1,showShare:!1}},onLoad:function(t){var i=this;t.from&&(this.from=t.from),this.showShare=this.tui.wechatBowser(),n.default.me().then(function(t){console.log(t),i.userIntegral=t.coin}).catch(function(){}),n.default.game(t.id).then(function(a){i.game=a,console.log(a);var e=a.sort_prizes;e.push({id:0,coin:"",type:"thanks"}),console.log(e),i.awardList=i.coverArr(e,8),console.log(i.awardList),i.tui.wechatBowser()&&i.game.task_game_task&&(console.log(i.game.task_game_task.id),n.default.view(i.game.task_game_task.id,t.token).then(function(t){console.log(t)}).catch(function(){}),n.default.fission(i.game.task_game_task.id,t.token).then(function(t){console.log(t),i.tui.jssdk().then(function(a){var e="";t.task.image&&(e=t.task.image.image_path),a.updateAppMessageShareData({title:i.game.name,desc:"分享链接赚金币,提现赢大奖",link:t.task.h5_link+"&token="+t.token,imgUrl:e,success:function(){console.log("updateAppMessageShareData")}})}).catch(function(t){console.log(t)})}).catch(function(){}))}).catch(function(t){console.log(t)})},methods:{back:function(){this.tui.goBack()},shows:function(){console.log(this.ShowGuidance),this.ShowGuidance=!0},colse:function(){this.ShowGuidance=!1},coverArr:function(t,i){for(var a=Math.ceil(i/t.length),e=0;e<a;e++)t=t.concat(t);return t.slice(0,8)},startDrawing:function(){var t=this;if(console.log(this.game),!this.game.task_game_task&&this.userIntegral<this.game.cost)uni.showModal({title:"温馨提示",content:"您的金币不足"});else{if(this.isRunning)return;this.isRunning=!0,n.default.playGame(t.game.id).then(function(i){if(console.log(i),i.error)return console.log(1),void uni.showModal({title:"温馨提示",content:i.message});var a=0,e=0,n=0;i.prize_log&&(n=i.prize_log.prize.id),console.log(i.prize_log);var o=t.awardList.findIndex(function(t){return t.id==n});console.log(o);var s=32+o;console.log(s);var c=setInterval(function(){if(++a,++e,a%=8,t.indexSelect=a,console.log(e),console.log(a),console.log(t.awardList[a]),e==s){clearInterval(c),c=null;var i=t.awardList[a],n="";"thanks"==i.type?n="谢谢参与":("Prize::ProductPrize"==i.type&&(n="恭喜您中奖了："+i.product.name),"Prize::CoinPrize"==i.type&&(n="获得了金币"+i.coin+"个")),uni.showModal({title:"提示",content:n,confirmColor:"#5677FC",showCancel:!1,success:function(i){i.confirm&&(t.isRunning=!1)}})}},70+e)}).catch(function(t){console.log(t)})}}}};i.default=c},c749:function(t,i,a){"use strict";var e,n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{},[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.ShowGuidance,expression:"ShowGuidance"}]},[a("v-uni-view",{staticClass:"Bg",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.colse.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"Guidance",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.colse.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:"/static/images/index/zhidaole.png",mode:"widthFix"}})],1)],1)],1)},o=[];a.d(i,"b",function(){return n}),a.d(i,"c",function(){return o}),a.d(i,"a",function(){return e})},ef14:function(t,i,a){"use strict";var e=a("17ac"),n=a.n(e);n.a},fc8d:function(t,i,a){"use strict";a.r(i);var e=a("675d"),n=a.n(e);for(var o in e)"default"!==o&&function(t){a.d(i,t,function(){return e[t]})}(o);i["default"]=n.a}}]);