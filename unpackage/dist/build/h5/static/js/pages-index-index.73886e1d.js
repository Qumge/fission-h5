(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"411a":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"tui-header-box"},[i("v-uni-view",{staticClass:"tui-header",style:{width:t.width+"px",height:t.height+"px"}},[i("v-uni-view",{staticClass:"tui-searchbox tui-search-mr",style:{marginTop:t.inputTop+"px"}},[i("v-uni-input",{staticClass:"tui-input",attrs:{"confirm-type":"search",placeholder:"商品名搜索","placeholder-class":"tui-input-plholder",value:t.search},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmSearch.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"tui-back",style:{marginTop:t.arrowTop+"px"},attrs:{"data-index":"4"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.screen.apply(void 0,arguments)}}},[i("tui-icon",{attrs:{name:t.isList?"manage":"listview",size:t.isList?25:23,bold:!t.isList,color:"#333"}})],1)],1)],1),i("v-uni-view",{staticClass:"tui-header-screen",style:{top:t.height+"px"}},[i("v-uni-view",{staticClass:"tui-screen-top"},[i("v-uni-view",{staticClass:"tui-top-item tui-icon-ml",class:[[0,5,6].indexOf(t.tabIndex)>=0?"tui-active tui-bold":""],attrs:{"data-index":"0"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.screen.apply(void 0,arguments)}}},[i("v-uni-view",[t._v(t._s(t.selectedName))]),i("tui-icon",{attrs:{name:t.selectH>0?"arrowup":"arrowdown",size:14,color:0==t.tabIndex?"#e41f19":"#444","tui-icon-class":"tui-ml"}})],1),i("v-uni-view",{staticClass:"tui-top-item",class:[1==t.tabIndex?"tui-active tui-bold":""],attrs:{"data-index":"1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.screen.apply(void 0,arguments)}}},[t._v("销量")]),i("v-uni-view",{staticClass:"tui-top-item",class:[2==t.tabIndex?"tui-active tui-bold":""],attrs:{"data-index":"2"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.screen.apply(void 0,arguments)}}},[t._v("新品")]),i("v-uni-view",{staticClass:"tui-top-item tui-icon-ml",attrs:{"data-index":"3"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.screen.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("筛选")]),i("tui-icon",{attrs:{name:"screen",size:12,color:"#333","tui-icon-class":"tui-ml",bold:!0}})],1),i("v-uni-view",{staticClass:"tui-dropdownlist",class:[t.selectH>0?"tui-dropdownlist-show":""],style:{height:t.selectH+"rpx"}},t._l(t.dropdownList,function(e,a){return i("v-uni-view",{key:a,staticClass:"tui-dropdownlist-item tui-icon-middle",class:[e.tabIndex==t.tabIndex?"tui-bold":""],attrs:{"data-index":e.tabIndex},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.dropdownItem.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"tui-ml tui-middle"},[t._v(t._s(e.name))]),e.tabIndex==t.tabIndex?i("tui-icon",{attrs:{name:"check",size:16,color:"#e41f19",bold:!0,"tui-icon-class":"tui-middle"}}):t._e()],1)}),1),i("v-uni-view",{staticClass:"tui-dropdownlist-mask",class:[t.selectH>0?"tui-mask-show":""],on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.hideDropdownList.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"tui-product-list",style:{marginTop:t.px(t.dropScreenH+18)}},[i("v-uni-view",{staticClass:"tui-product-container"},[t._l(t.products,function(e,a){return(a+1)%2!=0||t.isList?[i("v-uni-view",{key:a+"_0",staticClass:"tui-pro-item",class:[t.isList?"tui-flex-list":""],attrs:{"hover-class":"hover","hover-start-time":150,"data-id":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.detail.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"tui-pro-img",class:[t.isList?"tui-proimg-list":""],attrs:{src:e.default_image,mode:"widthFix"}}),i("v-uni-view",{staticClass:"tui-pro-content"},[i("v-uni-view",{staticClass:"tui-pro-tit"},[t._v(t._s(e.name))]),i("v-uni-view",[i("v-uni-view",{staticClass:"tui-pro-price"},[i("v-uni-text",{staticClass:"tui-sale-price"},[t._v("￥"+t._s(e.price))])],1),i("v-uni-view",{staticClass:"tui-pro-pay"},[t._v(t._s(e.sale)+"人购买")])],1)],1)],1)]:t._e()})],2),t.isList?t._e():i("v-uni-view",{staticClass:"tui-product-container"},[t._l(t.products,function(e,a){return(a+1)%2==0?[i("v-uni-view",{key:a+"_0",staticClass:"tui-pro-item",class:[t.isList?"tui-flex-list":""],attrs:{"hover-class":"hover","hover-start-time":150,"data-id":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.detail.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"tui-pro-img",class:[t.isList?"tui-proimg-list":""],attrs:{src:e.default_image,mode:"widthFix"}}),i("v-uni-view",{staticClass:"tui-pro-content"},[i("v-uni-view",{staticClass:"tui-pro-tit"},[t._v(t._s(e.name))]),i("v-uni-view",[i("v-uni-view",{staticClass:"tui-pro-price"},[i("v-uni-text",{staticClass:"tui-sale-price"},[t._v("￥"+t._s(e.price))])],1),i("v-uni-view",{staticClass:"tui-pro-pay"},[t._v(t._s(e.sale)+"人购买")])],1)],1)],1)]:t._e()})],2)],1),i("tui-drawer",{attrs:{mode:"right",visible:t.drawer},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.closeDrawer.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"tui-drawer-box",style:{paddingTop:t.height+"px"}},[i("v-uni-scroll-view",{staticClass:"tui-drawer-scroll",style:{height:t.drawerH+"px"},attrs:{"scroll-y":""}},[i("v-uni-view",{staticClass:"tui-drawer-title"},[i("v-uni-text",{staticClass:"tui-title-bold"},[t._v("大分类")])],1),i("v-uni-view",{staticClass:"tui-drawer-content tui-flex-attr"},[t._l(t.categories1,function(e,a){return[i("v-uni-view",{key:a+"_0",staticClass:"tui-attr-item",class:t.category1==e.id?"tui-btmItem-active":"",attrs:{"data-id":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.select1.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"tui-attr-ellipsis"},[t._v(t._s(e.name))])],1)]})],2),i("v-uni-view",{staticClass:"tui-drawer-title"},[i("v-uni-text",{staticClass:"tui-title-bold"},[t._v("小分类")])],1),i("v-uni-view",{staticClass:"tui-drawer-content tui-flex-attr"},[t._l(t.categories2,function(e,a){return[i("v-uni-view",{key:a+"_0",staticClass:"tui-attr-item",class:t.category2==e.id?"tui-btmItem-active":"",attrs:{"data-id":e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.select2.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"tui-attr-ellipsis"},[t._v(t._s(e.name))])],1)]})],2),i("v-uni-view",{staticClass:"tui-safearea-bottom"})],1),i("v-uni-view",{staticClass:"tui-attr-btnbox"},[i("v-uni-view",{staticClass:"tui-attr-safearea"},[i("v-uni-view",{staticClass:"tui-drawer-btn tui-drawerbtn-black",attrs:{"hover-class":"tui-white-hover","hover-stay-time":150},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reset.apply(void 0,arguments)}}},[t._v("重置")]),i("v-uni-view",{staticClass:"tui-drawer-btn tui-drawerbtn-primary",attrs:{"hover-class":"tui-red-hover","hover-stay-time":150},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeDrawer.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1),i("tui-loadmore",{attrs:{visible:t.loadding,index:3,type:"red"}}),i("tui-nomore",{attrs:{visible:!t.pullUpOn,bgcolor:"#f7f7f7"}})],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},4540:function(t,e,i){"use strict";i.r(e);var a=i("411a"),n=i("8e5b");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("ac34");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"150aeaee",null);e["default"]=r.exports},"8e5b":function(t,e,i){"use strict";i.r(e);var a=i("fbe4"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},ac34:function(t,e,i){"use strict";var a=i("d55b"),n=i.n(a);n.a},bc11:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'uni-page-body[data-v-150aeaee]{background:#f7f7f7}.container[data-v-150aeaee]{padding-bottom:env(safe-area-inset-bottom)}\r\n\r\n/* 隐藏scroll-view滚动条*/[data-v-150aeaee]::-webkit-scrollbar{width:0;height:0;color:transparent}.tui-header-box[data-v-150aeaee]{width:100%;background:#fff;position:fixed;z-index:99998;left:0;top:0}.tui-header[data-v-150aeaee]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.tui-back[data-v-150aeaee]{margin-left:%?8?%;height:32px!important;width:32px!important;line-height:32px}.tui-searchbox[data-v-150aeaee]{width:100%;height:30px;margin-right:%?5?%;margin-left:%?15?%;border-radius:15px;font-size:12px;background:#f7f7f7;padding:3px 10px;box-sizing:border-box;color:#999;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;overflow:hidden}\r\n\r\n\r\n\r\n.tui-search-text[data-v-150aeaee]{padding-left:%?16?%}.tui-search-key[data-v-150aeaee]{max-width:80%;height:100%;padding:0 %?16?%;margin-left:%?12?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:15px;background:rgba(0,0,0,.5);color:#fff}.tui-key-text[data-v-150aeaee]{box-sizing:border-box;padding-right:%?12?%;font-size:12px;line-height:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\r\n\r\n/*screen*/.tui-header-screen[data-v-150aeaee]{width:100%;box-sizing:border-box;background:#fff;position:fixed;z-index:1000}.tui-screen-bottom[data-v-150aeaee],.tui-screen-top[data-v-150aeaee]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?28?%;color:#333}.tui-screen-top[data-v-150aeaee]{height:%?88?%;position:relative;background:#fff}.tui-top-item[data-v-150aeaee]{height:%?28?%;line-height:%?28?%;-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.tui-topitem-active[data-v-150aeaee]{color:#e41f19}.tui-screen-bottom[data-v-150aeaee]{height:%?100?%;padding:0 %?30?%;box-sizing:border-box;font-size:%?24?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;overflow:hidden}.tui-bottom-text[data-v-150aeaee]{line-height:%?26?%;max-width:82%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tui-bottom-item[data-v-150aeaee]{-webkit-box-flex:1;-webkit-flex:1;flex:1;width:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:0 %?12?%;box-sizing:border-box;background:#f7f7f7;margin-right:%?20?%;white-space:nowrap;height:%?60?%;border-radius:%?40?%}.tui-bottom-item[data-v-150aeaee]:last-child{margin-right:0}.tui-btmItem-active[data-v-150aeaee]{background:#fcedea!important;color:#e41f19;font-weight:700;position:relative}.tui-btmItem-active[data-v-150aeaee]:after{content:"";position:absolute;border:%?1?% solid #e41f19;width:100%;height:100%;border-radius:%?40?%;left:0;top:0}.tui-btmItem-tap[data-v-150aeaee]{position:relative;border-bottom-left-radius:0;border-bottom-right-radius:0}.tui-btmItem-tap[data-v-150aeaee]:after{content:"";position:absolute;width:100%;height:%?22?%;background:#f7f7f7;left:0;top:%?58?%}.tui-bold[data-v-150aeaee]{font-weight:700}.tui-active[data-v-150aeaee]{color:#e41f19}.tui-icon-ml .tui-icon-class[data-v-150aeaee]{margin-left:%?6?%}.tui-ml[data-v-150aeaee]{margin-left:%?6?%}.tui-seizeaseat-20[data-v-150aeaee]{height:%?20?%}.tui-seizeaseat-30[data-v-150aeaee]{height:%?30?%}.tui-icon-middle .tui-icon-class[data-v-150aeaee]{vertical-align:middle}.tui-middle[data-v-150aeaee]{vertical-align:middle}\r\n\r\n/*screen*/\r\n\r\n/*顶部下拉选择 属性*/.tui-scroll-box[data-v-150aeaee]{width:100%;height:%?480?%;box-sizing:border-box;position:relative;z-index:99;color:#fff;font-size:%?30?%;word-break:break-all}.tui-drop-item[data-v-150aeaee]{color:#333;height:%?80?%;font-size:%?28?%;padding:%?20?% %?40?% %?20?% %?40?%;box-sizing:border-box;display:inline-block;width:50%}.tui-drop-btnbox[data-v-150aeaee]{width:100%;height:%?100?%;position:absolute;left:0;bottom:0;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex}.tui-drop-btn[data-v-150aeaee]{width:50%;font-size:%?32?%;text-align:center;height:%?100?%;line-height:%?100?%;border:0}.tui-btn-red[data-v-150aeaee]{background:#e41f19;color:#fff}.tui-red-hover[data-v-150aeaee]{background:#c51a15!important;color:#e5e5e5}.tui-btn-white[data-v-150aeaee]{background:#fff;color:#333}.tui-white-hover[data-v-150aeaee]{background:#e5e5e5;color:#2e2e2e}\r\n\r\n/*顶部下拉选择 属性*/\r\n\r\n/*顶部下拉选择 综合*/.tui-dropdownlist[data-v-150aeaee]{width:100%;position:absolute;background:#fff;border-bottom-left-radius:%?24?%;border-bottom-right-radius:%?24?%;overflow:hidden;box-sizing:border-box;padding-top:%?10?%;padding-bottom:%?26?%;left:0;top:%?88?%;visibility:hidden;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;z-index:999}.tui-dropdownlist-show[data-v-150aeaee]{visibility:visible}.tui-dropdownlist-mask[data-v-150aeaee]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);z-index:-1;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;opacity:0;visibility:hidden}.tui-mask-show[data-v-150aeaee]{opacity:1;visibility:visible}.tui-dropdownlist-item[data-v-150aeaee]{color:#333;height:%?70?%;font-size:%?28?%;padding:0 %?40?%;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}\r\n\r\n/*顶部下拉选择 综合*/.tui-drawer-box[data-v-150aeaee]{width:%?686?%;font-size:%?24?%;overflow:hidden;position:relative;padding-bottom:%?100?%}.tui-drawer-title[data-v-150aeaee]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:0 %?30?%;box-sizing:border-box;height:%?80?%}.tui-title-bold[data-v-150aeaee]{font-size:%?26?%;font-weight:700;-webkit-flex-shrink:0;flex-shrink:0}.tui-location[data-v-150aeaee]{margin-right:%?6?%}.tui-attr-right[data-v-150aeaee]{width:70%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:right}.tui-all-box[data-v-150aeaee]{width:90%;white-space:nowrap;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.tui-drawer-content[data-v-150aeaee]{padding:%?16?% %?30?% %?30?% %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;box-sizing:border-box}.tui-input[data-v-150aeaee]{border:0;height:%?64?%;border-radius:%?32?%;width:100%;background:#f7f7f7;text-align:center;font-size:%?24?%;color:#333}.tui-phcolor[data-v-150aeaee]{text-align:center;color:#b2b2b2;font-size:%?24?%}.tui-flex-attr[data-v-150aeaee]{-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.tui-attr-item[data-v-150aeaee]{width:30%;height:%?64?%;background:#f7f7f7;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:0 %?4?%;box-sizing:border-box;border-radius:%?32?%;margin-right:5%;margin-bottom:5%}.tui-attr-ellipsis[data-v-150aeaee]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:96%;text-align:center}.tui-attr-item[data-v-150aeaee]:nth-of-type(3n){margin-right:0}.tui-attr-btnbox[data-v-150aeaee]{width:100%;position:absolute;left:0;bottom:0;box-sizing:border-box;padding:0 %?30?%;background:#fff}.tui-attr-safearea[data-v-150aeaee]{height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding-bottom:env(safe-area-inset-bottom)}.tui-safearea-bottom[data-v-150aeaee]{width:100%;height:env(safe-area-inset-bottom)}.tui-attr-btnbox[data-v-150aeaee]:before{content:"";position:absolute;top:0;right:0;left:0;border-top:%?1?% solid #eaeef1;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.tui-drawer-btn[data-v-150aeaee]{width:47%;text-align:center;height:%?60?%;border-radius:%?30?%;-webkit-flex-shrink:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;box-sizing:border-box}.tui-drawerbtn-black[data-v-150aeaee]{border:%?1?% solid #555}.tui-drawerbtn-primary[data-v-150aeaee]{background:#e41f19;color:#fff}\r\n\r\n/* 商品列表*/.tui-product-list[data-v-150aeaee]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap;box-sizing:border-box}.tui-product-container[data-v-150aeaee]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-right:%?10?%}.tui-product-container[data-v-150aeaee]:last-child{margin-right:0}.tui-pro-item[data-v-150aeaee]{width:100%;margin-bottom:%?10?%;background:#fff;box-sizing:border-box;border-radius:%?12?%;overflow:hidden;-webkit-transition:all .15s ease-in-out;transition:all .15s ease-in-out}.tui-flex-list[data-v-150aeaee]{display:-webkit-box;display:-webkit-flex;display:flex;margin-bottom:%?1?%!important}.tui-pro-img[data-v-150aeaee]{width:100%;display:block}.tui-proimg-list[data-v-150aeaee]{width:%?260?%;height:%?260?%!important;-webkit-flex-shrink:0;flex-shrink:0;border-radius:%?12?%}.tui-pro-content[data-v-150aeaee]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;box-sizing:border-box;padding:%?20?%}.tui-pro-tit[data-v-150aeaee]{color:#2e2e2e;font-size:%?26?%;word-break:break-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.tui-pro-price[data-v-150aeaee]{padding-top:%?18?%}.tui-sale-price[data-v-150aeaee]{font-size:%?34?%;font-weight:500;color:#e41f19}.tui-factory-price[data-v-150aeaee]{font-size:%?24?%;color:#a0a0a0;text-decoration:line-through;padding-left:%?12?%}.tui-pro-pay[data-v-150aeaee]{padding-top:%?10?%;font-size:%?24?%;color:#656565}\r\n\r\n/* 商品列表*/body.?%PAGE?%[data-v-150aeaee]{background:#f7f7f7}',""])},d55b:function(t,e,i){var a=i("bc11");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("1d046450",a,!0,{sourceMap:!1,shadowMode:!1})},fbe4:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("5d73")),o=a(i("f499"));i("7514"),i("386d");var s=a(i("38b7")),r=a(i("4046")),d=a(i("0266")),l=a(i("1eab")),c=a(i("051f")),u=a(i("2047")),b={components:{tuiIcon:s.default,tuiDrawer:r.default,tuiLoadmore:d.default,tuiNomore:l.default,tuiTopDropdown:c.default},data:function(){return{from:"h5",searchKey:"",width:200,height:64,inputTop:0,arrowTop:0,dropScreenH:0,attrData:[],attrIndex:-1,dropScreenShow:!1,scrollTop:0,tabIndex:0,isList:!1,drawer:!1,drawerH:0,selectedName:"综合",selectH:0,dropdownList:[{name:"综合",tabIndex:0},{name:"价格升序",tabIndex:5},{name:"价格降序",tabIndex:6}],categories1:[],categories2:[],category1:"",category2:"",sorts:{0:"",1:"sale desc",2:"created_at desc",3:"",4:"",5:"price asc",6:"price desc"},search:"",products:[],pageIndex:1,loadding:!1,pullUpOn:!0,page:1}},onLoad:function(t){var e=this;t.from&&(this.from=t.from),this.getData(t);var i={};uni.getSystemInfo({success:function(a){e.width=i.left||a.windowWidth,e.height=i.top?i.top+i.height+8:a.statusBarHeight+44,e.inputTop=i.top?i.top+(i.height-30)/2:a.statusBarHeight+7,e.arrowTop=i.top?i.top+(i.height-32)/2:a.statusBarHeight+6,e.searchKey=t.searchKey||"",e.dropScreenH=750*e.height/a.windowWidth,e.drawerH=a.windowHeight-uni.upx2px(100)-e.height}})},methods:{confirmSearch:function(t){this.search=t.detail.value,this.getData(t)},getData:function(t){var e=this;this.page=1,this.pullUpOn=!0,u.default.categories().then(function(t){e.categories1=t}).catch(function(){});var i=this.category1;this.category2&&(i=this.category2),u.default.products(i,this.search,this.sorts[this.tabIndex],this.page,"").then(function(t){e.products=t}).catch(function(){})},select1:function(t){var e=this;this.category2=null,this.category1=t.currentTarget.dataset.id;var i=this.categories1.find(function(t){return t.id==e.category1});i&&(this.categories2=i.children)},select2:function(t){this.category2=t.currentTarget.dataset.id},px:function(t){return uni.upx2px(t)+"px"},btnDropChange:function(t){var e=this,i=t.currentTarget.dataset.index,a=JSON.parse((0,o.default)(this.attrArr[i].list));0===a.length?this.$set(this.attrArr[i],"isActive",!this.attrArr[i].isActive):(this.attrData=a,this.attrIndex=i,this.dropScreenShow=!0,this.$set(this.attrArr[i],"isActive",!1),this.scrollTop=1,this.$nextTick(function(){e.scrollTop=0}))},btnSelected:function(t){var e=t.currentTarget.dataset.index;this.$set(this.attrData[e],"selected",!this.attrData[e].selected)},reset:function(){this.category1="",this.category2="",this.categories2=[]},btnCloseDrop:function(){var t=this;this.scrollTop=1,this.$nextTick(function(){t.scrollTop=0}),this.dropScreenShow=!1,this.attrIndex=-1},btnSure:function(){var t=this.attrIndex,e=this.attrData,i=!1,a="",o=!0,s=!1,r=void 0;try{for(var d,l=(0,n.default)(e);!(o=(d=l.next()).done);o=!0){var c=d.value;c.selected&&(i=!0,a+=a?";"+c.name:c.name)}}catch(b){s=!0,r=b}finally{try{o||null==l.return||l.return()}finally{if(s)throw r}}var u=this.attrArr[t];this.btnCloseDrop(),this.$set(u,"isActive",i),this.$set(u,"selectedName",a)},showDropdownList:function(){this.selectH=246,this.tabIndex=0},hideDropdownList:function(){this.selectH=0},dropdownItem:function(t){var e=t.currentTarget.dataset.index;console.log(e);var i=this.dropdownList.find(function(t){return t.tabIndex==e});this.selectedName=i.name,this.tabIndex=i.tabIndex,this.selectH=0,this.getData(t)},screen:function(t){var e=t.currentTarget.dataset.index;0==e?this.showDropdownList():1==e?(this.tabIndex=1,this.getData(t)):2==e?(this.tabIndex=2,this.getData(t)):3==e?this.drawer=!0:4==e&&(this.isList=!this.isList)},closeDrawer:function(t){this.drawer=!1,this.getData(t)},back:function(){this.drawer?this.closeDrawer():window.parent.postMessage({event:"backEvent",params:{}},"*")},detail:function(t){console.log(t),uni.navigateTo({url:"../product/show?id="+t.currentTarget.dataset.id})}},onPullDownRefresh:function(){},onReachBottom:function(){if(this.pullUpOn){this.loadding=!0,this.pullUpOn=!0;var t=this;this.page=this.page+1;var e=this.category1;this.category2&&(e=this.category2),u.default.products(e,this.search,this.sorts[this.tabIndex],this.page,"").then(function(e){e==[]?t.pullUpOn=!0:(t.products=t.products.concat(e),t.loadding=!1,t.pullUpOn=!1)}).catch(function(){})}}};e.default=b}}]);