(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-game-scratch_card"],{"0158":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".explain[data-v-a1e443ce]{width:%?690?%;margin:%?60?% auto %?100?%}.ExplainTitle[data-v-a1e443ce]{text-align:center;font-size:%?36?%;font-weight:700;color:#8a0a0a}.ExplainTxt[data-v-a1e443ce]{text-align:left;margin:%?20?% auto}.TxtTitle[data-v-a1e443ce]{font-size:%?30?%;color:#545454;font-weight:700;margin-top:%?30?%;margin-bottom:%?10?%}.TxtCon[data-v-a1e443ce]{font-size:%?26?%;color:#999}.TxtZ[data-v-a1e443ce]{color:#d20b0b;font-size:%?24?%;margin-top:%?10?%;letter-spacing:.5px}.TZ[data-v-a1e443ce]{font-weight:700;font-size:%?26?%;color:#d20b0b}.vue-scratch-card[data-v-a1e443ce]{background:#e42121;color:#fff;text-align:center;font-size:20px;font-weight:700;position:absolute;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.scratchCard .pic[data-v-a1e443ce]{display:none}\n/* header*/.tui-header-box[data-v-a1e443ce]{width:100%;position:fixed;left:0;top:0;z-index:9998;background-color:#fc4034}.tui-header[data-v-a1e443ce]{width:100%;font-size:18px;line-height:18px;font-weight:500;height:44px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.tui-header-icon[data-v-a1e443ce]{position:fixed;top:0;left:10px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:44px;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99999}.tui-header-icon .tui-badge[data-v-a1e443ce]{background:#e41f19!important;position:absolute;right:-4px}.tui-icon-ml[data-v-a1e443ce]{margin-left:%?20?%}.tui-icon[data-v-a1e443ce]{border-radius:16px}.tui-icon-back[data-v-a1e443ce]{height:44px!important;width:44px!important;display:block!important}.tui-header-icon .tui-icon-more-fill[data-v-a1e443ce]{height:20px!important;width:20px!important;padding:6px!important;display:block!important}\n/* header*/",""])},"0189":function(t,e,a){"use strict";var i=a("d74d"),n=a.n(i);n.a},"630d":function(t,e,a){"use strict";a.r(e);var i=a("bc1e"),n=a("705e");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("0189");var c=a("2877"),s=Object(c["a"])(n["default"],i["a"],i["b"],!1,null,"a1e443ce",null);e["default"]=s.exports},"705e":function(t,e,a){"use strict";a.r(e);var i=a("8686"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},8686:function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("afea")),o=i(a("90d9")),c={components:{tuiIcon:o.default},data:function(){return{game:{},userIntegral:0,moveRadius:20,from:"h5",height:0,top:0,scrollH:0,opcity:0,iconOpcity:.5,award:"空"}},onLoad:function(t){t.from&&(this.from=t.from);var e=this;this.showShare=this.tui.wechatBowser(),n.default.me().then(function(t){console.log(t),e.userIntegral=t.coin}).catch(function(){}),n.default.game(t.id).then(function(a){e.game=a,console.log(a),e.userIntegral<a.coin&&(e.moveRadius=0,uni.showModal({title:"温馨提示",content:"您的金币不足"})),e.tui.wechatBowser()&&e.game.task_id&&(console.log(e.game.task_id),n.default.view(e.game.task_id,t.token).then(function(t){console.log(t)}).catch(function(){}),n.default.fission(e.game.task_id,t.token).then(function(t){console.log(t),e.tui.jssdk().then(function(a){var i="";t.task.image&&(i=t.task.image.image_path),a.updateAppMessageShareData({title:e.game.name,desc:"分享链接赚金币,提现赢大奖",link:location.origin+location.pathname+"?id="+e.game.id+"&token="+t.token,imgUrl:i,success:function(){console.log("updateAppMessageShareData")}})}).catch(function(t){console.log(t)})}).catch(function(){}))}).catch(function(t){console.log(t)})},methods:{back:function(){this.tui.goBack(this.from)},startCallback:function(){var t=this;console.log("抽奖成功！"),this.apiMe(),n.default.me(t.game.id).then(function(e){console.log(e),t.userIntegral=e.coin}).catch(function(){}),console.log(t.game.id),!t.game.task_game_task&&t.userIntegral<t.game.coin?uni.showModal({title:"温馨提示",content:"您的积分不足"}):n.default.playGame(t.game.id).then(function(e){console.log(e),t.award=e.game,"您已经玩过这个游戏了"!=e.message||uni.showModal({title:"温馨提示",content:e.message})}).catch(function(){})},clearCallback:function(){console.log("清除完毕！")},thisShow:function(){},apiMe:function(){n.default.me(this.game.id).then(function(t){console.log(t),that.userIntegral=t.coin}).catch(function(){})}}};e.default=c},bc1e:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"tui-header-box",staticStyle:{color:"#fff"},style:{height:t.height+"px;"}},[a("v-uni-view",{staticClass:"tui-header",style:{paddingTop:t.top+"px"}},[t._v("刮刮卡")]),a("v-uni-view",{staticClass:"tui-header-icon",style:{marginTop:t.top+"px"}},[a("v-uni-view",{staticClass:"tui-icon tui-icon-arrowleft tui-icon-back",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[a("tui-icon",{staticStyle:{"line-height":"44px"},attrs:{name:"arrowleft",color:"#fff"}})],1)],1)],1),a("v-uni-view",{staticStyle:{background:"url(../../static/images/game/stage.png) no-repeat center bottom","background-size":"contain",padding:"50% 0"},style:{marginTop:"21px"}},[a("vue-scratch-card",{attrs:{"element-id":"scratchWrap",ratio:.5,"move-radius":t.moveRadius,"start-callback":t.startCallback,"clear-callback":t.clearCallback,"cover-color":"#fff"}},[a("div",{staticClass:"vue-scratch-card ",attrs:{slot:"result"},slot:"result"},[t._v(t._s(t.award.name))])])],1),a("v-uni-view",{staticClass:"TxtZ TxtTitle",staticStyle:{"padding-left":"10px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.thisShow.apply(void 0,arguments)}}},[a("v-uni-text",{},[t._v("我的积分：")]),t._v(t._s(t.userIntegral))],1),a("v-uni-view",{staticClass:"explain"},[a("v-uni-view",{staticClass:"ExplainTitle"},[t._v("游戏说明")]),a("v-uni-view",{staticClass:"ExplainTxt"},[a("v-uni-view",{staticClass:"TxtTitle"},[t._v("玩法说明")]),a("v-uni-view",{staticClass:"TxtCon"},[t._v("每抽奖一次平台扣去"+t._s(t.game.cost)+"积分")]),a("v-uni-view",{staticClass:"TxtTitle"},[t._v("活动奖品")]),t._l(t.game.prizes,function(e,i){return[a("v-uni-view",{staticClass:"TxtCon"},[t._v(t._s(i+1)+"等奖："+t._s(e.number)+"金币")])]}),a("v-uni-view",{staticClass:"TxtTitle"},[t._v("主办方")]),a("v-uni-view",{staticClass:"TxtCon"},[t._v("趣图美业有限公司提供")])],2)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},d74d:function(t,e,a){var i=a("0158");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("42a762d2",i,!0,{sourceMap:!1,shadowMode:!1})}}]);