(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/game/luck_wheel"],{"216c":function(e,t,n){"use strict";n.r(t);var a=n("3cdf"),o=n.n(a);for(var c in a)"default"!==c&&function(e){n.d(t,e,function(){return a[e]})}(c);t["default"]=o.a},"28e3":function(e,t,n){},"3cdf":function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n("2047"));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){return n.e("components/icon/icon").then(n.bind(null,"38b7"))},l=function(){return n.e("components/GuidancePopup/GuidancePopup").then(n.bind(null,"2b7d"))},i={components:{GuidancePopup:l,tuiIcon:u},data:function(){return{game:{task_game_task:{valid_from:"",valid_to:""},image:{}},userIntegral:0,ShowGuidance:!1,circleList:24,from:"h5",height:0,top:0,scrollH:0,opcity:1,iconOpcity:.5,awardList:{},indexSelect:0,isRunning:!1,showShare:!1}},onLoad:function(t){var n=this;t.from&&(this.from=t.from),this.showShare=this.tui.wechatBowser(),o.default.me().then(function(t){console.log(e(t," at pages/game/luck_wheel.vue:116")),n.userIntegral=t.coin}).catch(function(){}),o.default.game(t.id).then(function(a){n.game=a,console.log(e(a," at pages/game/luck_wheel.vue:124"));var c=a.sort_prizes;c.push({id:0,coin:"",type:"thanks"}),console.log(e(c," at pages/game/luck_wheel.vue:127")),n.awardList=n.coverArr(c,8),console.log(e(n.awardList," at pages/game/luck_wheel.vue:129")),n.tui.wechatBowser()&&n.game.task_game_task&&(console.log(e(n.game.task_game_task.id," at pages/game/luck_wheel.vue:133")),o.default.view(n.game.task_game_task.id,t.token).then(function(t){console.log(e(t," at pages/game/luck_wheel.vue:136"))}).catch(function(){}),o.default.fission(n.game.task_game_task.id,t.token).then(function(t){console.log(e(t," at pages/game/luck_wheel.vue:141")),n.tui.jssdk().then(function(a){var o="";t.task.image&&(o=t.task.image.image_path),a.updateAppMessageShareData({title:n.game.name,desc:"分享链接赚金币,提现赢大奖",link:t.task.h5_link+"&token="+t.token,imgUrl:o,success:function(){console.log(e("updateAppMessageShareData"," at pages/game/luck_wheel.vue:156"))}})}).catch(function(t){console.log(e(t," at pages/game/luck_wheel.vue:161"))})}).catch(function(){}))}).catch(function(t){console.log(e(t," at pages/game/luck_wheel.vue:167"))})},methods:{back:function(){this.tui.goBack()},shows:function(){console.log(e(this.ShowGuidance," at pages/game/luck_wheel.vue:176")),this.ShowGuidance=!0},colse:function(){this.ShowGuidance=!1},coverArr:function(e,t){for(var n=Math.ceil(t/e.length),a=0;a<n;a++)e=e.concat(e);return e.slice(0,8)},startDrawing:function(){var t=this;if(console.log(e(this.game," at pages/game/luck_wheel.vue:215")),!this.game.task_game_task&&this.userIntegral<this.game.cost)a.showModal({title:"温馨提示",content:"您的金币不足"});else{if(this.isRunning)return;this.isRunning=!0,o.default.playGame(t.game.id).then(function(n){if(console.log(e(n," at pages/game/luck_wheel.vue:226")),n.error)return console.log(e(1," at pages/game/luck_wheel.vue:228")),void a.showModal({title:"温馨提示",content:n.message});var o=0,c=0,u=0;n.prize_log&&(u=n.prize_log.prize.id),console.log(e(n.prize_log," at pages/game/luck_wheel.vue:242"));var l=t.awardList.findIndex(function(e){return e.id==u});console.log(e(l," at pages/game/luck_wheel.vue:244"));var i=32+l;console.log(e(i," at pages/game/luck_wheel.vue:247"));var s=setInterval(function(){if(++o,++c,o%=8,t.indexSelect=o,console.log(e(c," at pages/game/luck_wheel.vue:254")),console.log(e(o," at pages/game/luck_wheel.vue:255")),console.log(e(t.awardList[o]," at pages/game/luck_wheel.vue:256")),c==i){clearInterval(s),s=null;var n=t.awardList[o],u="";"thanks"==n.type?u="谢谢参与":("Prize::ProductPrize"==n.type&&(u="恭喜您中奖了："+n.product.name),"Prize::CoinPrize"==n.type&&(u="获得了金币"+n.coin+"个")),a.showModal({title:"提示",content:u,confirmColor:"#5677FC",showCancel:!1,success:function(e){e.confirm&&(t.isRunning=!1)}})}},70+c)}).catch(function(t){console.log(e(t," at pages/game/luck_wheel.vue:289"))})}}}};t.default=i}).call(this,n("0de9")["default"],n("6e42")["default"])},"6d5c":function(e,t,n){"use strict";n.r(t);var a=n("ce68"),o=n.n(a);for(var c in a)"default"!==c&&function(e){n.d(t,e,function(){return a[e]})}(c);t["default"]=o.a},"70c6":function(e,t,n){"use strict";n.r(t);var a=n("c927"),o=n("216c");for(var c in o)"default"!==c&&function(e){n.d(t,e,function(){return o[e]})}(c);n("a3b7");var u,l=n("f0c5"),i=Object(l["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],u);t["default"]=i.exports},a3b7:function(e,t,n){"use strict";var a=n("28e3"),o=n.n(a);o.a},c0f2:function(e,t,n){"use strict";(function(e){n("17f2"),n("921b");a(n("66fd"));var t=a(n("70c6"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},c927:function(e,t,n){"use strict";var a,o=function(){var e=this,t=e.$createElement;e._self._c},c=[];n.d(t,"b",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return a})},cb45:function(e,t,n){},ce68:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={onLaunch:function(){console.log(e("App Launch"," at App.vue:5")),this.tui.wxAuthorize()},onShow:function(){console.log(e("App show"," at App.vue:13"))},onHide:function(){console.log(e("App Hide"," at App.vue:16"))}};t.default=n}).call(this,n("0de9")["default"])},e016:function(e,t,n){"use strict";n.r(t);var a=n("6d5c");for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n("e49a");var c,u,l,i,s=n("f0c5"),r=Object(s["a"])(a["default"],c,u,!1,null,null,null,!1,l,i);t["default"]=r.exports},e49a:function(e,t,n){"use strict";var a=n("cb45"),o=n.n(a);o.a}},[["c0f2","common/runtime","common/vendor"]]]);