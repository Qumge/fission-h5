(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/company/show"],{"4a22":function(t,e,n){"use strict";var o=n("c66c"),a=n.n(o);a.a},"526c":function(t,e,n){"use strict";var o,a=function(){var t=this,e=t.$createElement;t._self._c},s=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return o})},"5e46":function(t,e,n){"use strict";n.r(e);var o=n("526c"),a=n("ed1b");for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);n("4a22");var r,c=n("f0c5"),i=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);e["default"]=i.exports},"6d5c":function(t,e,n){"use strict";n.r(e);var o=n("ce68"),a=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,function(){return o[t]})}(s);e["default"]=a.a},c66c:function(t,e,n){},cb45:function(t,e,n){},ce68:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={onLaunch:function(){console.log(t("App Launch"," at App.vue:5")),this.tui.wxAuthorize()},onShow:function(){console.log(t("App show"," at App.vue:13"))},onHide:function(){console.log(t("App Hide"," at App.vue:16"))}};e.default=n}).call(this,n("0de9")["default"])},e016:function(t,e,n){"use strict";n.r(e);var o=n("6d5c");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("e49a");var s,r,c,i,u=n("f0c5"),l=Object(u["a"])(o["default"],s,r,!1,null,null,null,!1,c,i);e["default"]=l.exports},e49a:function(t,e,n){"use strict";var o=n("cb45"),a=n.n(o);a.a},ed1b:function(t,e,n){"use strict";n.r(e);var o=n("f830"),a=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,function(){return o[t]})}(s);e["default"]=a.a},f615:function(t,e,n){"use strict";(function(t){n("17f2"),n("921b");o(n("66fd"));var e=o(n("5e46"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},f830:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(n("2047"));function s(t){return t&&t.__esModule?t:{default:t}}var r=function(){return n.e("components/icon/icon").then(n.bind(null,"38b7"))},c=function(){return n.e("components/drawer/drawer").then(n.bind(null,"4046"))},i=function(){return n.e("components/loadmore/loadmore").then(n.bind(null,"0266"))},u=function(){return n.e("components/nomore/nomore").then(n.bind(null,"1eab"))},l=function(){return n.e("components/top-dropdown/top-dropdown").then(n.bind(null,"051f"))},d={components:{tuiIcon:r,tuiDrawer:c,tuiLoadmore:i,tuiNomore:u,tuiTopDropdown:l},data:function(){return{searchKey:"",width:200,height:64,inputTop:0,arrowTop:0,dropScreenH:0,Id:1,Tab:[{id:1,name:"任务"},{id:2,name:"商品"}],attrData:[],attrIndex:-1,dropScreenShow:!1,scrollTop:0,tabIndex:0,isList:!0,drawer:!1,drawerH:0,selectedName:"综合",selectH:0,taskPageIndex:1,productPageIndex:1,loadding:!1,pullUpOn:!0,companyBanner:{},products:[],tasks:[],company_id:"",company:{},search:"",from:"h5"}},onLoad:function(e){var n=this,s=this;this.company_id=e.id,this.from=e.from,a.default.company(this.company_id).then(function(e){console.log(t(e," at pages/company/show.vue:195")),e.id&&(s.company=e)}).catch(function(e){console.log(t(e," at pages/company/show.vue:200"))});var r={};o.getSystemInfo({success:function(t){n.width=r.left||t.windowWidth,n.height=r.top?r.top+r.height+8:t.statusBarHeight+44,n.inputTop=r.top?r.top+(r.height-30)/2:t.statusBarHeight+7,n.arrowTop=r.top?r.top+(r.height-32)/2:t.statusBarHeight+6,n.searchKey=e.searchKey||"",n.dropScreenH=750*n.height/t.windowWidth+186,n.drawerH=t.windowHeight-o.upx2px(100)-n.height}}),a.default.companyBanners(e.id).then(function(e){s.companyBanner=e,console.log(t(e," at pages/company/show.vue:228"))}).catch(function(){}),this.getTasks(),this.getProducts()},methods:{getTasks:function(){var e=this;a.default.tasks(this.taskPageIndex,this.company_id,this.search).then(function(n){""==n?console.log(t("没了"," at pages/company/show.vue:239")):(console.log(t(n," at pages/company/show.vue:241")),console.log(t(e.tasks," at pages/company/show.vue:242")),console.log(t(11111," at pages/company/show.vue:243")),e.tasks=e.tasks.concat(n),console.log(t(e.tasks," at pages/company/show.vue:245"))),e.loadding=!1,e.pullUpOn=!1}).catch(function(){})},getProducts:function(){var e=this;a.default.products("",this.search,"",this.productPageIndex,this.company_id).then(function(n){""==n?console.log(t("没了"," at pages/company/show.vue:257")):(console.log(t(n," at pages/company/show.vue:259")),console.log(t(e.products," at pages/company/show.vue:260")),console.log(t(11111," at pages/company/show.vue:261")),e.products=e.products.concat(n),console.log(t(e.products," at pages/company/show.vue:263"))),e.loadding=!1,e.pullUpOn=!1}).catch(function(){})},_companyBanner:function(e){e.currentTarget.dataset.id;console.log(t(e.currentTarget.dataset.id," at pages/company/show.vue:273")),console.log(t(e.currentTarget.dataset.path," at pages/company/show.vue:274"));o.navigateTo({url:e.currentTarget.dataset.path})},_Tab:function(t){this.Id=t.currentTarget.dataset.id},px:function(t){return o.upx2px(t)+"px"},btnDropChange:function(t){var e=this,n=t.currentTarget.dataset.index,o=JSON.parse(JSON.stringify(this.attrArr[n].list));0===o.length?this.$set(this.attrArr[n],"isActive",!this.attrArr[n].isActive):(this.attrData=o,this.attrIndex=n,this.dropScreenShow=!0,this.$set(this.attrArr[n],"isActive",!1),this.scrollTop=1,this.$nextTick(function(){e.scrollTop=0}))},btnSelected:function(t){var e=t.currentTarget.dataset.index;this.$set(this.attrData[e],"selected",!this.attrData[e].selected)},reset:function(){var t=this.attrData,e=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){var r=a.value;r.selected=!1}}catch(c){n=!0,o=c}finally{try{e||null==s.return||s.return()}finally{if(n)throw o}}this.attrData=t},btnCloseDrop:function(){var t=this;this.scrollTop=1,this.$nextTick(function(){t.scrollTop=0}),this.dropScreenShow=!1,this.attrIndex=-1},btnSure:function(){var t=this.attrIndex,e=this.attrData,n=!1,o="",a=!0,s=!1,r=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var u=c.value;u.selected&&(n=!0,o+=o?";"+u.name:u.name)}}catch(d){s=!0,r=d}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}var l=this.attrArr[t];this.btnCloseDrop(),this.$set(l,"isActive",n),this.$set(l,"selectedName",o)},showDropdownList:function(){this.selectH=246,this.tabIndex=0},hideDropdownList:function(){this.selectH=0},dropdownItem:function(t){for(var e=t.currentTarget.dataset.index,n=this.dropdownList,o=0;o<n.length;o++)n[o].selected=o===e;this.dropdownList=n,this.selectedName=0==e?"综合":"价格",this.selectH=0},screen:function(e){var n=e.currentTarget.dataset.index;console.log(t(e.currentTarget.dataset.index," at pages/company/show.vue:367")),0==n?this.showDropdownList():1==n?this.tabIndex=1:2==n?this.isList=!this.isList:3==n&&(this.drawer=!0)},closeDrawer:function(){this.drawer=!1},back:function(){this.tui.goBack()},confirmSearch:function(e){this.search=e.detail.value,console.log(t(this.search," at pages/company/show.vue:386")),this.productPageIndex=1,this.products=[],this.getProducts()},detail:function(e){console.log(t(e," at pages/company/show.vue:393"));var n=e.currentTarget.dataset.id;console.log(t(e.currentTarget.dataset.id," at pages/company/show.vue:395")),o.navigateTo({url:"../product/show?id="+n})},taskDetail:function(e){console.log(t(e," at pages/company/show.vue:401")),console.log(t(e.currentTarget.dataset," at pages/company/show.vue:402")),o.navigateTo({url:e.currentTarget.dataset.path})},follow:function(t){var e=this;a.default.follow_company(this.company_id).then(function(t){t.error||(e.company.follow=1)})},cancelfollow:function(t){var e=this;a.default.follow_company(this.company_id).then(function(t){t.error||(e.company.follow=0)})}},onPullDownRefresh:function(){console.log(t(1," at pages/company/show.vue:425"));var e=JSON.parse(JSON.stringify(this.tasks));e=e.splice(0,10),this.tasks=e,this.productPageIndex=1,this.taskPageIndex=1,this.pullUpOn=!0,this.loadding=!1,o.stopPullDownRefresh()},onReachBottom:function(){this.loadding=!0,this.pullUpOn=!0,1==this.Id?(this.taskPageIndex=this.taskPageIndex+1,this.getTasks()):(this.productPageIndex=this.productPageIndex+1,this.getProducts()),console.log(t(1," at pages/company/show.vue:449")),console.log(t(this.pageIndex," at pages/company/show.vue:450"))}};e.default=d}).call(this,n("0de9")["default"],n("6e42")["default"])}},[["f615","common/runtime","common/vendor"]]]);