<view class="container"><view class="tui-header-box"><view class="tui-header" style="{{'width:'+(width+'px')+';'+('height:'+(height+'px')+';')}}"><view class="tui-searchbox tui-search-mr" style="{{'margin-top:'+(inputTop+'px')+';'}}"><icon type="search" size="{{13}}" color="#999"></icon><input class="tui-input" confirm-type="search" placeholder="商品名搜索" placeholder-class="tui-input-plholder" data-event-opts="{{[['confirm',[['confirmSearch',['$event']]]]]}}" value="{{search}}" bindconfirm="__e"/></view><view class="tui-back" style="{{'margin-top:'+(arrowTop+'px')+';'}}" data-index="4" data-event-opts="{{[['tap',[['screen',['$event']]]]]}}" bindtap="__e"><tui-icon vue-id="1" name="{{isList?'manage':'listview'}}" size="{{isList?25:23}}" bold="{{isList?false:true}}" color="#333" bind:__l="__l"></tui-icon></view></view></view><view class="tui-header-screen" style="{{'top:'+(height+'px')+';'}}"><view class="tui-screen-top"><view class="{{['tui-top-item tui-icon-ml',$root.g0>=0?'tui-active tui-bold':'']}}" data-index="0" data-event-opts="{{[['tap',[['screen',['$event']]]]]}}" bindtap="__e"><view>{{selectedName}}</view><tui-icon vue-id="2" name="{{selectH>0?'arrowup':'arrowdown'}}" size="{{14}}" color="{{tabIndex==0?'#e41f19':'#444'}}" tui-icon-class="tui-ml" bind:__l="__l"></tui-icon></view><view class="{{['tui-top-item',tabIndex==1?'tui-active tui-bold':'']}}" data-index="1" data-event-opts="{{[['tap',[['screen',['$event']]]]]}}" bindtap="__e">销量</view><view class="{{['tui-top-item',tabIndex==2?'tui-active tui-bold':'']}}" data-index="2" data-event-opts="{{[['tap',[['screen',['$event']]]]]}}" bindtap="__e">新品</view><view class="tui-top-item tui-icon-ml" data-index="3" data-event-opts="{{[['tap',[['screen',['$event']]]]]}}" bindtap="__e"><text>筛选</text><tui-icon vue-id="3" name="screen" size="{{12}}" color="#333" tui-icon-class="tui-ml" bold="{{true}}" bind:__l="__l"></tui-icon></view><view class="{{['tui-dropdownlist',selectH>0?'tui-dropdownlist-show':'']}}" style="{{'height:'+(selectH+'rpx')+';'}}"><block wx:for="{{dropdownList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['tui-dropdownlist-item tui-icon-middle',item.tabIndex==tabIndex?'tui-bold':'']}}" data-index="{{item.tabIndex}}" data-event-opts="{{[['tap',[['dropdownItem',['$event']]]]]}}" catchtap="__e"><text class="tui-ml tui-middle">{{item.name}}</text><block wx:if="{{item.tabIndex==tabIndex}}"><tui-icon vue-id="{{'4-'+index}}" name="check" size="{{16}}" color="#e41f19" bold="{{true}}" tui-icon-class="tui-middle" bind:__l="__l"></tui-icon></block></view></block></view><view data-event-opts="{{[['tap',[['hideDropdownList',['$event']]]]]}}" class="{{['tui-dropdownlist-mask',selectH>0?'tui-mask-show':'']}}" catchtap="__e"></view></view></view><view class="tui-product-list" style="{{'margin-top:'+($root.m0)+';'}}"><view class="tui-product-container"><block wx:for="{{products}}" wx:for-item="product" wx:for-index="index" wx:key="index"><block wx:if="{{(index+1)%2!=0||isList}}"><block><view class="{{['tui-pro-item',isList?'tui-flex-list':'']}}" hover-class="hover" hover-start-time="{{150}}" data-id="{{product.id}}" data-event-opts="{{[['tap',[['detail',['$event']]]]]}}" bindtap="__e"><image class="{{['tui-pro-img',isList?'tui-proimg-list':'']}}" src="{{product.default_image}}" mode="widthFix"></image><view class="tui-pro-content"><view class="tui-pro-tit">{{product.name}}</view><view><view class="tui-pro-price"><text class="tui-sale-price">{{"￥"+product.price}}</text></view><view class="tui-pro-pay">{{product.sale+"人购买"}}</view></view></view></view></block></block></block></view><block wx:if="{{!isList}}"><view class="tui-product-container"><block wx:for="{{products}}" wx:for-item="product" wx:for-index="index" wx:key="index"><block wx:if="{{(index+1)%2==0}}"><block><view class="{{['tui-pro-item',isList?'tui-flex-list':'']}}" hover-class="hover" hover-start-time="{{150}}" data-id="{{product.id}}" data-event-opts="{{[['tap',[['detail',['$event']]]]]}}" bindtap="__e"><image class="{{['tui-pro-img',isList?'tui-proimg-list':'']}}" src="{{product.default_image}}" mode="widthFix"></image><view class="tui-pro-content"><view class="tui-pro-tit">{{product.name}}</view><view><view class="tui-pro-price"><text class="tui-sale-price">{{"￥"+product.price}}</text></view><view class="tui-pro-pay">{{product.sale+"人购买"}}</view></view></view></view></block></block></block></view></block></view><tui-drawer vue-id="5" mode="right" visible="{{drawer}}" data-event-opts="{{[['^close',[['closeDrawer']]]]}}" bind:close="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="tui-drawer-box" style="{{'padding-top:'+(height+'px')+';'}}"><scroll-view class="tui-drawer-scroll" style="{{'height:'+(drawerH+'px')+';'}}" scroll-y><view class="tui-drawer-title"><text class="tui-title-bold">大分类</text></view><view class="tui-drawer-content tui-flex-attr"><block wx:for="{{categories1}}" wx:for-item="category" wx:for-index="index" wx:key="index"><block><view class="{{['tui-attr-item',category1==category.id?'tui-btmItem-active':'']}}" data-id="{{category.id}}" data-event-opts="{{[['tap',[['select1',['$event']]]]]}}" bindtap="__e"><view class="tui-attr-ellipsis">{{category.name}}</view></view></block></block></view><view class="tui-drawer-title"><text class="tui-title-bold">小分类</text></view><view class="tui-drawer-content tui-flex-attr"><block wx:for="{{categories2}}" wx:for-item="category" wx:for-index="index" wx:key="index"><block><view class="{{['tui-attr-item',category2==category.id?'tui-btmItem-active':'']}}" data-id="{{category.id}}" data-event-opts="{{[['tap',[['select2',['$event']]]]]}}" bindtap="__e"><view class="tui-attr-ellipsis">{{category.name}}</view></view></block></block></view><view class="tui-safearea-bottom"></view></scroll-view><view class="tui-attr-btnbox"><view class="tui-attr-safearea"><view class="tui-drawer-btn tui-drawerbtn-black" hover-class="tui-white-hover" hover-stay-time="{{150}}" data-event-opts="{{[['tap',[['reset',['$event']]]]]}}" bindtap="__e">重置</view><view class="tui-drawer-btn tui-drawerbtn-primary" hover-class="tui-red-hover" hover-stay-time="{{150}}" data-event-opts="{{[['tap',[['closeDrawer',['$event']]]]]}}" bindtap="__e">确定</view></view></view></view></tui-drawer><tui-loadmore vue-id="6" visible="{{loadding}}" index="{{3}}" type="red" bind:__l="__l"></tui-loadmore><tui-nomore vue-id="7" visible="{{!pullUpOn}}" bgcolor="#f7f7f7" bind:__l="__l"></tui-nomore></view>